{
  "entities": {
    "Book": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Book",
      "type": "object",
      "description": "Represents a book in the master catalog.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Book entity."
        },
        "code": {
          "type": "string",
          "description": "Unique code for the book (required)."
        },
        "name": {
          "type": "string",
          "description": "Name of the book (required)."
        }
      },
      "required": [
        "id",
        "code",
        "name"
      ]
    },
    "InventoryItem": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "InventoryItem",
      "type": "object",
      "description": "Represents an item in the inventory.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the InventoryItem entity."
        },
        "bookId": {
          "type": "string",
          "description": "Reference to Book. (Relationship: Book 1:N InventoryItem)"
        },
        "quantity": {
          "type": "number",
          "description": "Quantity of the book in inventory."
        },
        "location": {
          "type": "string",
          "description": "Physical location of the book in the inventory."
        },
        "status": {
          "type": "string",
          "description": "Internal status of the book (e.g., ready, in production)."
        }
      },
      "required": [
        "id",
        "bookId"
      ]
    },
    "Sale": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Sale",
      "type": "object",
      "description": "Represents a sales record.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Sale entity."
        },
        "bookId": {
          "type": "string",
          "description": "Reference to Book. (Relationship: Book 1:N Sale)"
        },
        "date": {
          "type": "string",
          "description": "Date of the sale.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "Status of the sale (e.g., sold, reserved, cancelled)."
        },
        "notes": {
          "type": "string",
          "description": "Optional notes for the sale."
        }
      },
      "required": [
        "id",
        "bookId",
        "date",
        "status"
      ]
    },
    "Listing": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Listing",
      "type": "object",
      "description": "Represents a product listing.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Listing entity."
        },
        "bookId": {
          "type": "string",
          "description": "Reference to Book. (Relationship: Book 1:N Listing)"
        },
        "image": {
          "type": "string",
          "description": "URL or path to the image for the listing.",
          "format": "uri"
        },
        "text": {
          "type": "string",
          "description": "Text content of the listing (title, details, etc.)."
        },
        "template": {
          "type": "string",
          "description": "Template used for the listing."
        }
      },
      "required": [
        "id",
        "bookId"
      ]
    },
    "Setting": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Setting",
      "type": "object",
      "description": "Represents a user setting.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Setting entity."
        },
        "key": {
          "type": "string",
          "description": "Key of the setting."
        },
        "value": {
          "type": "string",
          "description": "Value of the setting."
        }
      },
      "required": [
        "id",
        "key",
        "value"
      ]
    },
    "UserProfile": {
      "title": "User Profile",
      "description": "Stores user profile information.",
      "type": "object",
      "properties": {
        "username": {
          "type": "string",
          "description": "The user's display name."
        },
        "photoUrl": {
          "type": "string",
          "description": "URL of the user's profile picture.",
          "format": "uri"
        }
      },
      "required": [
        "username"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores user profiles."
    }
  }
}
